<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src="/scripts/aem.js" type="module"></script>
<script src="/scripts/scripts.js" type="module"></script>
<link rel="stylesheet" href="/styles/styles.css" />
<script
  src="
https://assets.adobedtm.com/63b00f92ccdd/cf0bc8611341/launch-14781371ad01-development.min.js"
  async
></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
  const domain=window.location.hostname;
  const pathname=window.location.pathname;
  const pathsegment= pathname.split('/').filter(segment => segment !=='');
  const  depth=pathsegment.length;
  const level1=pathsegment[0] || 'undefined';
  const level2=pathsegment[1] || 'undefined'; 
  window.adobeDataLayer = window.adobeDataLayer || [];
  adobeDataLayer.push({
    event: 'page_view',
    eventData: {
      account_login_status: 'logged out',
      user_type: '',
      user_role: '',
      gender: '',
      age: '',
      user_relationship_to_member: '',
      user_id: '',
      site_section: level1,
      site_name: domain,
      page_type: level1,
      site_subcategory: level2,
      site_subcategory_depth: depth,
      environment: 'Prod | Dev',
    },
  });

  document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll(".button-container a.button");
    buttons.forEach((button) => {
  button.addEventListener("click", function(e) {
    console.log("Button clicked vanilla!");
    console.log('test button click ');
      const linkClasses=Array.from(e.currentTarget.classList).join(' ');

      const linkHref=e.currentTarget.getAttribute('href');
      const linkStr = new URL(linkHref);
      linkStr.search='';
      const linkUrl=linkStr.href;
      const linkDomain=linkStr.hostname;
      const linkID=e.currentTarget.getAttribute('id');

      const isOutBound= linkDomain !== window.location.hostname;
      adobeDataLayer.push({
        event: 'click',
        eventData: {
          link_classes: linkClasses,
          link_domain: linkDomain,
          link_url: linkUrl,
          link_id: linkID ? linkID : 'undefined',
          outbound: isOutBound,
        },
      });
  });
});
});
 



  $(document).ready(function () {
    $('.button-container a.button').on('clicks', function (e) {
      console.log('test button click ');
      const linkClasses=Array.from(e.currentTarget.classList).join(' ');

      const linkHref=e.currentTarget.getAttribute('href');
      const linkStr = new URL(linkHref);
      linkStr.search='';
      const linkUrl=linkStr.href;
      const linkDomain=linkStr.hostname;
      const linkID=e.currentTarget.getAttribute('id');

      const isOutBound= linkDomain !== window.location.hostname;
      adobeDataLayer.push({
        event: 'click',
        eventData: {
          link_classes: linkClasses,
          link_domain: linkDomain,
          link_url: linkUrl,
          link_id: linkID ? linkID : 'undefined',
          outbound: isOutBound,
        },
      });
    });
  });
</script>
